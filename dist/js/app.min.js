$("document").ready(function(){function t(t){h?delta=t.detail*-120:f?delta=-t.deltaY:delta=t.wheelDelta,1!=u&&(delta<=-p&&n(),delta>=p&&o())}function e(t,e){delta=e-t,1!=u&&(delta<=-p&&n(),delta>=p&&o())}function n(){u=!0,g!==w-1&&(g++,l()),r(v)}function o(){u=!0,0!==g&&g--,s(),r(v)}function a(t){if(g==t);else if(g>t)for(var e=g-t,i=0;i<e;i++)o();else if(g<t)for(var a=t-g,r=0;r<a;r++)n()}function r(t){setTimeout(function(){u=!1},t)}function l(){var t=$(".background").eq(g-1);t.removeClass("up-scroll").addClass("down-scroll")}function s(){var t=$(".background").eq(g);t.removeClass("down-scroll").addClass("up-scroll")}function d(t){t.style.opacity="0.1",t.innerHTML=k[c(0,k.length-1)],setTimeout(function(){t.style.opacity="1"},425),setTimeout(function(){d(t)},c(2e3,3600))}function c(t,e){return Math.floor(Math.random()*(e-t+1))+t}var u=!1,h=/Firefox/i.test(navigator.userAgent),f=/MSIE/i.test(navigator.userAgent)||/Trident.*rv\:11\./i.test(navigator.userAgent),p=30,v=600,g=0,w=$(".background").length,m=$(".goto");m.click(function(){a($(this).attr("id"))}),m.hover(function(){a($(this).attr("id"))});var y,C=h?"DOMMouseScroll":"wheel";window.addEventListener(C,$.throttle(60,t),!1),window.addEventListener("touchstart",function(t){y=t.touches[0].clientY},!1),window.addEventListener("touchend",function(t){var n=t.changedTouches[0].clientY;e(y,n)},!1);var k=["Gulp","Angular","Laravel","Node","Bower","Npm","Jquery","Typescript","Poo","Analytics","Addword","Composer"];window.addEventListener("load",function(){var t=window.document.getElementsByClassName("randoms");for(i=0;i<t.length;i++)d(t[i])},!1),$(".open-menu").on("click",function(){$(".overlay").addClass("open")}),$(".close-menu").on("click",function(){$(".overlay").removeClass("open")}),$("nav").on("click",function(){$(".overlay").removeClass("open")}),$(".expender").on("click",function(){$(this).hasClass("fullpage")?$(this).removeClass("fullpage"):$(this).addClass("fullpage")})}),Element.prototype.backgroundClipPolyfill=function(){function t(){return void 0!=r.style.webkitBackgroundClip}function e(t,e){for(var n in e)t.setAttribute(n,e[n])}function n(t){return a.createElementNS("http://www.w3.org/2000/svg",t)}function i(){var t=arguments[0],i=n("svg"),o=n("pattern"),a=n("image"),r=n("text");return e(o,{id:t.id,patternUnits:"userSpaceOnUse",width:t.width,height:t.height}),e(a,{width:t.width,height:t.height}),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.url),e(r,{x:0,y:80,class:t.class,style:"fill:url(#"+t.id+");"}),r.textContent=t.text,o.appendChild(a),i.appendChild(o),i.appendChild(r),i}var o=arguments[0],a=document,r=a.body,l=this;if(!t()){var s=new Image;s.onload=function(){var t=i({id:o.patternID,url:o.patternURL,class:o.class,width:this.width,height:this.height,text:l.textContent});l.parentNode.replaceChild(t,l)},s.src=o.patternURL}};var element=document.querySelector(".headline");element.backgroundClipPolyfill({patternID:"mypattern",patternURL:"http://timpietrusky.com/cdn/army.png",class:"headline"});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJwb2x5ZmlsbC5qcyJdLCJuYW1lcyI6WyIkIiwicmVhZHkiLCJ3aGVlbFNjcm9sbCIsImV2dCIsImlzRmlyZWZveCIsImRlbHRhIiwiZGV0YWlsIiwiaXNJZSIsImRlbHRhWSIsIndoZWVsRGVsdGEiLCJ0aWNraW5nIiwic2Nyb2xsU2Vuc2l0aXZpdHlTZXR0aW5nIiwiZ29Eb3duIiwiZ29VcCIsInRvdWNoU2Nyb2xsIiwidHMiLCJ0ZSIsImN1cnJlbnRTbGlkZU51bWJlciIsInRvdGFsU2xpZGVOdW1iZXIiLCJuZXh0SXRlbSIsInNsaWRlRHVyYXRpb25UaW1lb3V0Iiwic2xpZGVEdXJhdGlvblNldHRpbmciLCJwcmV2aW91c0l0ZW0iLCJnb3RvIiwic2xpZGUiLCJtYXhJdGVyIiwiaSIsIm1pbkl0ZXIiLCJqIiwic2xpZGVEdXJhdGlvbiIsInNldFRpbWVvdXQiLCIkcHJldmlvdXNTbGlkZSIsImVxIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsIiRjdXJyZW50U2xpZGUiLCJjaGFuZ2VXb3JkIiwiYSIsInN0eWxlIiwib3BhY2l0eSIsImlubmVySFRNTCIsIndvcmRzIiwiZ2V0UmFuZG9tSW50IiwibGVuZ3RoIiwibWluIiwibWF4IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwidGVzdCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIm1lbnVJdGVtcyIsImNsaWNrIiwidGhpcyIsImF0dHIiLCJob3ZlciIsIm1vdXNld2hlZWxFdmVudCIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0aHJvdHRsZSIsImUiLCJ0b3VjaGVzIiwiY2xpZW50WSIsImNoYW5nZWRUb3VjaGVzIiwicmFuZG9tcyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsIm9uIiwiaGFzQ2xhc3MiLCJFbGVtZW50IiwicHJvdG90eXBlIiwiYmFja2dyb3VuZENsaXBQb2x5ZmlsbCIsImhhc0JhY2tncm91bmRDbGlwIiwidW5kZWZpbmVkIiwiYiIsIndlYmtpdEJhY2tncm91bmRDbGlwIiwiYWRkQXR0cmlidXRlcyIsImVsIiwiYXR0cmlidXRlcyIsImtleSIsInNldEF0dHJpYnV0ZSIsImNyZWF0ZVN2Z0VsZW1lbnQiLCJ0YWduYW1lIiwiZCIsImNyZWF0ZUVsZW1lbnROUyIsImNyZWF0ZVNWRyIsImFyZ3VtZW50cyIsInN2ZyIsInBhdHRlcm4iLCJpbWFnZSIsInRleHQiLCJpZCIsInBhdHRlcm5Vbml0cyIsIndpZHRoIiwiaGVpZ2h0Iiwic2V0QXR0cmlidXRlTlMiLCJ1cmwiLCJ4IiwieSIsImNsYXNzIiwidGV4dENvbnRlbnQiLCJhcHBlbmRDaGlsZCIsImJvZHkiLCJpbWciLCJJbWFnZSIsIm9ubG9hZCIsInBhdHRlcm5JRCIsInBhdHRlcm5VUkwiLCJwYXJlbnROb2RlIiwicmVwbGFjZUNoaWxkIiwic3JjIiwiZWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiXSwibWFwcGluZ3MiOiJBQUFBQSxFQUFBLFlBQUFDLE1BQUEsV0FhQSxRQUFBQyxHQUFBQyxHQUNBQyxFQUVBQyxNQUFBRixFQUFBRyxRQUFBLElBQ0FDLEVBRUFGLE9BQUFGLEVBQUFLLE9BR0FILE1BQUFGLEVBQUFNLFdBRUEsR0FBQUMsSUFDQUwsUUFBQU0sR0FDQUMsSUFFQVAsT0FBQU0sR0FDQUUsS0FLQSxRQUFBQyxHQUFBQyxFQUFBQyxHQUNBWCxNQUFBVyxFQUFBRCxFQUNBLEdBQUFMLElBQ0FMLFFBQUFNLEdBQ0FDLElBRUFQLE9BQUFNLEdBQ0FFLEtBS0EsUUFBQUQsS0FFQUYsR0FBQSxFQUNBTyxJQUFBQyxFQUFBLElBQ0FELElBQ0FFLEtBRUFDLEVBQUFDLEdBR0EsUUFBQVIsS0FFQUgsR0FBQSxFQUNBLElBQUFPLEdBQ0FBLElBRUFLLElBQ0FGLEVBQUFDLEdBSUEsUUFBQUUsR0FBQUMsR0FDQSxHQUFBUCxHQUFBTyxPQUVBLElBQUFQLEVBQUFPLEVBRUEsSUFBQSxHQURBQyxHQUFBUixFQUFBTyxFQUNBRSxFQUFBLEVBQUFBLEVBQUFELEVBQUFDLElBQ0FiLFFB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QVQsRUFBQSxPQWlDQSxPQTlCQUwsR0FBQVksR0FDQUcsR0FBQXZELEVBQUF1RCxHQUNBQyxhQUFBLGlCQUNBQyxNQUFBekQsRUFBQXlELE1BQ0FDLE9BQUExRCxFQUFBMEQsU0FHQWxCLEVBQUFhLEdBQ0FJLE1BQUF6RCxFQUFBeUQsTUFDQUMsT0FBQTFELEVBQUEwRCxTQUVBTCxFQUFBTSxlQUFBLCtCQUFBLGFBQUEzRCxFQUFBNEQsS0FFQXBCLEVBQUFjLEdBQ0FPLEVBQUEsRUFDQUMsRUFBQSxHQUNBQyxNQUFBL0QsRUFBQSxNQUNBQyxNQUFBLGFBQUFELEVBQUF1RCxHQUFBLE9BSUFELEVBQUFVLFlBQUFoRSxFQUFBc0QsS0FHQUYsRUFBQWEsWUFBQVosR0FHQUYsRUFBQWMsWUFBQWIsR0FDQUQsRUFBQWMsWUFBQVgsR0FFQUgsRUF6REEsR0FBQW5ELEdBQUFrRCxVQUFBLEdBQ0FILEVBQUFsQixTQUNBUyxFQUFBUyxFQUFBbUIsS0FDQXpCLEVBQUF4QixJQTZEQSxLQUFBbUIsSUFBQSxDQUNBLEdBQUErQixHQUFBLEdBQUFDLE1BQ0FELEdBQUFFLE9BQUEsV0FDQSxHQUFBbEIsR0FBQUYsR0FDQU0sR0FBQXZELEVBQUFzRSxVQUNBVixJQUFBNUQsRUFBQXVFLFdBQ0FSLE1BQUEvRCxFQUFBLE1BQ0F5RCxNQUFBeEMsS0FBQXdDLE1BQ0FDLE9BQUF6QyxLQUFBeUMsT0FDQUosS0FBQWIsRUFBQXVCLGFBR0F2QixHQUFBK0IsV0FBQUMsYUFBQXRCLEVBQUFWLElBRUEwQixFQUFBTyxJQUFBMUUsRUFBQXVFLFlBSUEsSUFBQUksU0FBQTlDLFNBQUErQyxjQUFBLFlBU0FELFNBQUF4Qyx3QkFDQW1DLFVBQUEsWUFDQUMsV0FBQSx1Q0FDQVIsTUFBQSIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJCgnZG9jdW1lbnQnKS5yZWFkeShmdW5jdGlvbigpIHtcclxuICAgIC8vIC0tLS0tLS0tLS0tLS0gdHJpbXMgLS0tLS0tLS0tLS0tLSAvL1xyXG4gICAgdmFyIHRpY2tpbmcgPSBmYWxzZTtcclxuICAgIHZhciBpc0ZpcmVmb3ggPSAoL0ZpcmVmb3gvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKTtcclxuICAgIHZhciBpc0llID0gKC9NU0lFL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkgfHwgKC9UcmlkZW50LipydlxcOjExXFwuL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSk7XHJcbiAgICB2YXIgc2Nyb2xsU2Vuc2l0aXZpdHlTZXR0aW5nID0gMzA7XHJcbiAgICB2YXIgc2xpZGVEdXJhdGlvblNldHRpbmcgPSA2MDA7IC8vIG1zXHJcbiAgICB2YXIgY3VycmVudFNsaWRlTnVtYmVyID0gMDtcclxuICAgIHZhciB0b3RhbFNsaWRlTnVtYmVyID0gJChcIi5iYWNrZ3JvdW5kXCIpLmxlbmd0aDtcclxuXHJcblxyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0tLS0gREVURVJNSU5FIExBIERJUkVDVElPTiBEVSBTQ1JPTEwgKGVuIGZjdGlvbiBkdSBuYXYpIC0tLS0tLS0tLS0tLS0gLy9cclxuICAgIGZ1bmN0aW9uIHdoZWVsU2Nyb2xsKGV2dCkge1xyXG4gICAgICAgIGlmIChpc0ZpcmVmb3gpIHtcclxuICAgICAgICAgICAgLy8gRmlyZWZveFxyXG4gICAgICAgICAgICBkZWx0YSA9IGV2dC5kZXRhaWwgKiAoLTEyMCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpc0llKSB7XHJcbiAgICAgICAgICAgIC8vIElFXHJcbiAgICAgICAgICAgIGRlbHRhID0gLWV2dC5kZWx0YVk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gbGUgcmVzdGVcclxuICAgICAgICAgICAgZGVsdGEgPSBldnQud2hlZWxEZWx0YTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRpY2tpbmcgIT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBpZiAoZGVsdGEgPD0gLXNjcm9sbFNlbnNpdGl2aXR5U2V0dGluZykge1xyXG4gICAgICAgICAgICAgICAgZ29Eb3duKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGRlbHRhID49IHNjcm9sbFNlbnNpdGl2aXR5U2V0dGluZykge1xyXG4gICAgICAgICAgICAgICAgZ29VcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gY29tcGF0aWJpbGl0w6kgbW9iaWxlXHJcbiAgICBmdW5jdGlvbiB0b3VjaFNjcm9sbCh0cywgdGUpIHtcclxuICAgICAgICBkZWx0YSA9IHRlIC0gdHM7XHJcbiAgICAgICAgaWYgKHRpY2tpbmcgIT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBpZiAoZGVsdGEgPD0gLXNjcm9sbFNlbnNpdGl2aXR5U2V0dGluZykge1xyXG4gICAgICAgICAgICAgICAgZ29Eb3duKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGRlbHRhID49IHNjcm9sbFNlbnNpdGl2aXR5U2V0dGluZykge1xyXG4gICAgICAgICAgICAgICAgZ29VcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdvRG93bigpIHtcclxuICAgICAgICAvL0Rvd24gc2Nyb2xsXHJcbiAgICAgICAgdGlja2luZyA9IHRydWU7XHJcbiAgICAgICAgaWYgKGN1cnJlbnRTbGlkZU51bWJlciAhPT0gdG90YWxTbGlkZU51bWJlciAtIDEpIHtcclxuICAgICAgICAgICAgY3VycmVudFNsaWRlTnVtYmVyKys7XHJcbiAgICAgICAgICAgIG5leHRJdGVtKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNsaWRlRHVyYXRpb25UaW1lb3V0KHNsaWRlRHVyYXRpb25TZXR0aW5nKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnb1VwKCkge1xyXG4gICAgICAgIC8vVXAgc2Nyb2xsXHJcbiAgICAgICAgdGlja2luZyA9IHRydWU7XHJcbiAgICAgICAgaWYgKGN1cnJlbnRTbGlkZU51bWJlciAhPT0gMCkge1xyXG4gICAgICAgICAgICBjdXJyZW50U2xpZGVOdW1iZXItLTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcHJldmlvdXNJdGVtKCk7XHJcbiAgICAgICAgc2xpZGVEdXJhdGlvblRpbWVvdXQoc2xpZGVEdXJhdGlvblNldHRpbmcpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnb3RvKHNsaWRlKSB7XHJcbiAgICAgICAgaWYgKGN1cnJlbnRTbGlkZU51bWJlciA9PSBzbGlkZSkge1xyXG4gICAgICAgICAgICAvL25hZGFcclxuICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRTbGlkZU51bWJlciA+IHNsaWRlKSB7XHJcbiAgICAgICAgICAgIHZhciBtYXhJdGVyID0gY3VycmVudFNsaWRlTnVtYmVyIC0gc2xpZGU7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4SXRlcjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBnb1VwKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRTbGlkZU51bWJlciA8IHNsaWRlKSB7XHJcbiAgICAgICAgICAgIHZhciBtaW5JdGVyID0gc2xpZGUgLSBjdXJyZW50U2xpZGVOdW1iZXI7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbWluSXRlcjsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBnb0Rvd24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLSBXYXRjaGVyIG1lbnUgLS0tLS0tLS0tLS0tLS0gLy9cclxuXHJcbiAgICB2YXIgbWVudUl0ZW1zID0gJCgnLmdvdG8nKTtcclxuICAgIG1lbnVJdGVtcy5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICAgICBnb3RvKCQodGhpcykuYXR0cihcImlkXCIpKTtcclxuICAgIH0pO1xyXG4gICAgbWVudUl0ZW1zLmhvdmVyKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGdvdG8oJCh0aGlzKS5hdHRyKFwiaWRcIikpO1xyXG4gICAgfSk7XHJcblxyXG5cclxuXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tIFRpbWVvdXQgcG91ciBsb2NrZXIgbGVzIHNsaWRlcyAtLS0tLS0tLS0tLS0tIC8vXHJcbiAgICBmdW5jdGlvbiBzbGlkZUR1cmF0aW9uVGltZW91dChzbGlkZUR1cmF0aW9uKSB7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdGlja2luZyA9IGZhbHNlO1xyXG4gICAgICAgIH0sIHNsaWRlRHVyYXRpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0tLS0gQWRkIGV2ZW50IGxpc3RlbmVyIC0tLS0tLS0tLS0tLS0gLy9cclxuICAgIHZhciBtb3VzZXdoZWVsRXZlbnQgPSBpc0ZpcmVmb3ggPyBcIkRPTU1vdXNlU2Nyb2xsXCIgOiBcIndoZWVsXCI7XHJcbiAgICB2YXIgdHM7XHJcblxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIobW91c2V3aGVlbEV2ZW50LCAkLnRocm90dGxlKDYwLCB3aGVlbFNjcm9sbCksIGZhbHNlKTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgdHMgPSBlLnRvdWNoZXNbMF0uY2xpZW50WTtcclxuICAgIH0sIGZhbHNlKTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIHZhciB0ZSA9IGUuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WTtcclxuICAgICAgICB0b3VjaFNjcm9sbCh0cywgdGUpO1xyXG4gICAgfSwgZmFsc2UpO1xyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0tLS0gQW5pbWF0aW9ucyAtLS0tLS0tLS0tLS0tIC8vXHJcbiAgICBmdW5jdGlvbiBuZXh0SXRlbSgpIHtcclxuICAgICAgICB2YXIgJHByZXZpb3VzU2xpZGUgPSAkKFwiLmJhY2tncm91bmRcIikuZXEoY3VycmVudFNsaWRlTnVtYmVyIC0gMSk7XHJcbiAgICAgICAgJHByZXZpb3VzU2xpZGUucmVtb3ZlQ2xhc3MoXCJ1cC1zY3JvbGxcIikuYWRkQ2xhc3MoXCJkb3duLXNjcm9sbFwiKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcHJldmlvdXNJdGVtKCkge1xyXG4gICAgICAgIHZhciAkY3VycmVudFNsaWRlID0gJChcIi5iYWNrZ3JvdW5kXCIpLmVxKGN1cnJlbnRTbGlkZU51bWJlcik7XHJcbiAgICAgICAgJGN1cnJlbnRTbGlkZS5yZW1vdmVDbGFzcyhcImRvd24tc2Nyb2xsXCIpLmFkZENsYXNzKFwidXAtc2Nyb2xsXCIpO1xyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0tIEtleXdvcmRzIGFuaW0gLS0tLS0tLS0tIC8vXHJcbiAgICB2YXIgd29yZHMgPSBbXCJHdWxwXCIsIFwiQW5ndWxhclwiLCBcIkxhcmF2ZWxcIiwgXCJOb2RlXCIsIFwiQm93ZXJcIiwgXCJOcG1cIiwgXCJKcXVlcnlcIiwgXCJUeXBlc2NyaXB0XCIsIFwiUG9vXCIsIFwiQW5hbHl0aWNzXCIsIFwiQWRkd29yZFwiLCBcIkNvbXBvc2VyXCJdO1xyXG5cclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgcmFuZG9tcyA9IHdpbmRvdy5kb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwicmFuZG9tc1wiKTtcclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcmFuZG9tcy5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgY2hhbmdlV29yZChyYW5kb21zW2ldKTtcclxuICAgIH0sIGZhbHNlKTtcclxuXHJcbiAgICBmdW5jdGlvbiBjaGFuZ2VXb3JkKGEpIHtcclxuICAgICAgICBhLnN0eWxlLm9wYWNpdHkgPSAnMC4xJztcclxuICAgICAgICBhLmlubmVySFRNTCA9IHdvcmRzW2dldFJhbmRvbUludCgwLCB3b3Jkcy5sZW5ndGggLSAxKV07XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgYS5zdHlsZS5vcGFjaXR5ID0gJzEnO1xyXG4gICAgICAgIH0sIDQyNSk7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgY2hhbmdlV29yZChhKTtcclxuICAgICAgICB9LCBnZXRSYW5kb21JbnQoMjAwMCwgMzYwMCkpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRSYW5kb21JbnQobWluLCBtYXgpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjtcclxuICAgIH1cclxuXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0gTWVudSBhbmltIC0tLS0tLS0tLSAvL1xyXG5cclxuICAgICQoJy5vcGVuLW1lbnUnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAkKCcub3ZlcmxheScpLmFkZENsYXNzKCdvcGVuJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCcuY2xvc2UtbWVudScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICQoJy5vdmVybGF5JykucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoJ25hdicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICQoJy5vdmVybGF5JykucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0gUG9ydGZvbGlvIEFuaW1zIC0tLS0tLS0tLy9cclxuXHJcbiAgICAkKCcuZXhwZW5kZXInKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcygnZnVsbHBhZ2UnKSkge1xyXG4gICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdmdWxscGFnZScpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2Z1bGxwYWdlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG5cclxuXHJcblxyXG59KTsiLCIvKipcclxuICAtd2Via2l0LWJhY2tncm91bmQtY2xpcDogdGV4dCBQb2x5ZmlsbFxyXG4gIFxyXG4gICMgV2hhdD8gI1xyXG4gIEEgcG9seWZpbGwgd2hpY2ggcmVwbGFjZXMgdGhlIHNwZWNpZmllZCBlbGVtZW50IHdpdGggYSBTVkdcclxuICBpbiBicm93c2VyIHdoZXJlIFwiLXdlYmtpdC1iYWNrZ3JvdW5kLWNsaXA6IHRleHRcIiBcclxuICBpcyBub3QgYXZhaWxhYmxlLlxyXG5cclxuICBGb3JrIGl0IG9uIEdpdEh1YlxyXG4gIGh0dHBzOi8vZ2l0aHViLmNvbS9UaW1QaWV0cnVza3kvYmFja2dyb3VuZC1jbGlwLXRleHQtcG9seWZpbGxcclxuXHJcbiAgIyAyMDEzIGJ5IFRpbSBQaWV0cnVza3lcclxuICAjIHRpbXBpZXRydXNreS5jb21cclxuKiovXHJcblxyXG5FbGVtZW50LnByb3RvdHlwZS5iYWNrZ3JvdW5kQ2xpcFBvbHlmaWxsID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgYSA9IGFyZ3VtZW50c1swXSxcclxuICAgICAgICBkID0gZG9jdW1lbnQsXHJcbiAgICAgICAgYiA9IGQuYm9keSxcclxuICAgICAgICBlbCA9IHRoaXM7XHJcblxyXG4gICAgZnVuY3Rpb24gaGFzQmFja2dyb3VuZENsaXAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGIuc3R5bGUud2Via2l0QmFja2dyb3VuZENsaXAgIT0gdW5kZWZpbmVkO1xyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBhZGRBdHRyaWJ1dGVzKGVsLCBhdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgZm9yICh2YXIga2V5IGluIGF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKGtleSwgYXR0cmlidXRlc1trZXldKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRlU3ZnRWxlbWVudCh0YWduYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIGQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsIHRhZ25hbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZVNWRygpIHtcclxuICAgICAgICB2YXIgYSA9IGFyZ3VtZW50c1swXSxcclxuICAgICAgICAgICAgc3ZnID0gY3JlYXRlU3ZnRWxlbWVudCgnc3ZnJyksXHJcbiAgICAgICAgICAgIHBhdHRlcm4gPSBjcmVhdGVTdmdFbGVtZW50KCdwYXR0ZXJuJyksXHJcbiAgICAgICAgICAgIGltYWdlID0gY3JlYXRlU3ZnRWxlbWVudCgnaW1hZ2UnKSxcclxuICAgICAgICAgICAgdGV4dCA9IGNyZWF0ZVN2Z0VsZW1lbnQoJ3RleHQnKTtcclxuXHJcbiAgICAgICAgLy8gQWRkIGF0dHJpYnV0ZXMgdG8gZWxlbWVudHNcclxuICAgICAgICBhZGRBdHRyaWJ1dGVzKHBhdHRlcm4sIHtcclxuICAgICAgICAgICAgJ2lkJzogYS5pZCxcclxuICAgICAgICAgICAgJ3BhdHRlcm5Vbml0cyc6ICd1c2VyU3BhY2VPblVzZScsXHJcbiAgICAgICAgICAgICd3aWR0aCc6IGEud2lkdGgsXHJcbiAgICAgICAgICAgICdoZWlnaHQnOiBhLmhlaWdodFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBhZGRBdHRyaWJ1dGVzKGltYWdlLCB7XHJcbiAgICAgICAgICAgICd3aWR0aCc6IGEud2lkdGgsXHJcbiAgICAgICAgICAgICdoZWlnaHQnOiBhLmhlaWdodFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGltYWdlLnNldEF0dHJpYnV0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJywgJ3hsaW5rOmhyZWYnLCBhLnVybCk7XHJcblxyXG4gICAgICAgIGFkZEF0dHJpYnV0ZXModGV4dCwge1xyXG4gICAgICAgICAgICAneCc6IDAsXHJcbiAgICAgICAgICAgICd5JzogODAsXHJcbiAgICAgICAgICAgICdjbGFzcyc6IGFbJ2NsYXNzJ10sXHJcbiAgICAgICAgICAgICdzdHlsZSc6ICdmaWxsOnVybCgjJyArIGEuaWQgKyAnKTsnXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFNldCB0ZXh0XHJcbiAgICAgICAgdGV4dC50ZXh0Q29udGVudCA9IGEudGV4dDtcclxuXHJcbiAgICAgICAgLy8gQWRkIGVsZW1lbnRzIHRvIHBhdHRlcm5cclxuICAgICAgICBwYXR0ZXJuLmFwcGVuZENoaWxkKGltYWdlKTtcclxuXHJcbiAgICAgICAgLy8gQWRkIGVsZW1lbnRzIHRvIFNWR1xyXG4gICAgICAgIHN2Zy5hcHBlbmRDaGlsZChwYXR0ZXJuKTtcclxuICAgICAgICBzdmcuYXBwZW5kQ2hpbGQodGV4dCk7XHJcblxyXG4gICAgICAgIHJldHVybiBzdmc7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qXHJcbiAgICAgKiBSZXBsYWNlIHRoZSBlbGVtZW50IGlmIGJhY2tncm91bmQtY2xpcFxyXG4gICAgICogaXMgbm90IGF2YWlsYWJsZS5cclxuICAgICAqL1xyXG4gICAgaWYgKCFoYXNCYWNrZ3JvdW5kQ2xpcCgpKSB7XHJcbiAgICAgICAgdmFyIGltZyA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHN2ZyA9IGNyZWF0ZVNWRyh7XHJcbiAgICAgICAgICAgICAgICAnaWQnOiBhLnBhdHRlcm5JRCxcclxuICAgICAgICAgICAgICAgICd1cmwnOiBhLnBhdHRlcm5VUkwsXHJcbiAgICAgICAgICAgICAgICAnY2xhc3MnOiBhWydjbGFzcyddLFxyXG4gICAgICAgICAgICAgICAgJ3dpZHRoJzogdGhpcy53aWR0aCxcclxuICAgICAgICAgICAgICAgICdoZWlnaHQnOiB0aGlzLmhlaWdodCxcclxuICAgICAgICAgICAgICAgICd0ZXh0JzogZWwudGV4dENvbnRlbnRcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBlbC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChzdmcsIGVsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW1nLnNyYyA9IGEucGF0dGVyblVSTDtcclxuICAgIH1cclxufTtcclxuXHJcbnZhciBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRsaW5lJyk7XHJcblxyXG4vKlxyXG4gKiBDYWxsIHRoZSBwb2x5ZmlsbFxyXG4gKlxyXG4gKiBwYXR0ZXJuSUQgOiB0aGUgdW5pcXVlIElEIG9mIHRoZSBTVkcgcGF0dGVyblxyXG4gKiBwYXR0ZXJuVVJMIDogdGhlIFVSTCB0byB0aGUgYmFja2dyb3VuZC1pbWFnZVxyXG4gKiBjbGFzcyA6IHRoZSBjc3MtY2xhc3MgYXBwbGllZCB0byB0aGUgU1ZHXHJcbiAqL1xyXG5lbGVtZW50LmJhY2tncm91bmRDbGlwUG9seWZpbGwoe1xyXG4gICAgJ3BhdHRlcm5JRCc6ICdteXBhdHRlcm4nLFxyXG4gICAgJ3BhdHRlcm5VUkwnOiAnaHR0cDovL3RpbXBpZXRydXNreS5jb20vY2RuL2FybXkucG5nJyxcclxuICAgICdjbGFzcyc6ICdoZWFkbGluZSdcclxufSk7Il19
